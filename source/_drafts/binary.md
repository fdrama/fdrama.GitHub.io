---
title: 二进制
tags: [binary, math]
categories: algorithm
---

## 什么是二进制

所谓的 二进制，就是一种仅用 $1$ 和 $0$ 的排列组合来表示具体数值的，一种记数方法。

例如 $10101000$ 就是一个二进制数，它的每位都是非$1$即$0$的，不会出现$2$或者$3$这样的其它数字。但是仅通过$1$和$0$的组合是如何表示某个具体数值的？

 | 1   | 0   | 1   | 0   | 1   | 0   | 0   | 0   |
 | --- | --- | --- | --- | --- | --- | --- | --- |

我们看上边这个例子，我们将它转换为十进制

$$
\begin{aligned}
a&=0\times2^0+0\times2^1+0\times2^2+1\times2^3+0\times2^4+1\times2^5+0\times2^6+1\times2^7 \\
 &=0+0+0+8+0+32+0+128 \\
 &=168
\end{aligned}
$$

也就是说二进制**10101000** 对应的十进制是 $168$

## 二进制 十进制及其他进制

但是还是不够清晰，跟我们小学数学的 **$0,1,2,3,4,5,6,7,8,9$** 不一样对不对，但是其实他们的记数方法是一致的，我们看下面的例子：

比如 $456$ 这个数字，我们读作 ***四百五十六***，那么 ***四百五十六*** 其实也是经过求值算出来的，具体如下：

$$
\begin{aligned} \\
b&=4\times10^2+5\times10^1+6\times10^0 \\
&=400+50+6 \\
&=456
\end{aligned}
$$

再回过头去看看上面二进制的求值过程，是不是很像，只是十进制的世界里是由 **$0,1,2,3,4,5,6,7,8,9$** 构成的，每位分别乘上 **$10^i$**

而在二进制世界中只有$0$,$1$，并且每位乘上的是 **$2^i$** （其中$i$是位数， 从0开始）

这个每位分别乘上的固定数值，就是所谓的 **位权（weight）**，即**每位的权重**。

一般地，$r$进制 第 $i$ 位的位权就是：**$r^i$**

## 进位

那么 *位权（weight）* 的实际意义究竟是什么呢？其实它规定了进位的规则。

比如，十进制第 $i$ 位的位权为 $r^i$ ，具体地，从第0位开始，它的每位位权分别是$1, 10, 100, 1000...$。

我们小学就学过，十进制的加法是逢十进一的，个位满十，就向十位进一。这意思可不就是，1个 十位的$1$ 代表10个 个位的$1$ 吗？

那么二进制呢？从第0位开始，二进制每位位权分别是$1, 2, 4, 8$，或者说 $2^0, 2^1,2^2,2^3...$ , 所以，二进制是**逢二进一**的。

那么一般地，$r$进制就是 逢$r$进一的。这也是为什么，它的名字叫做$r$进制。

## 实例

上面我们探讨了二进制的概念和记数方法，那么我们现在来看常用的数字的各进制应该是什么样的，见附录表1 [^1]

## 数据类型

上面我们讲了二进制，大家都知道计算机是以二进制存储以及发送接收数据的，二进制的一位，就叫做$1 bit$。也就是说$bit$的含义就是二进制数中的一个数位，即$0$或者$1$。**由于计算机的硬件决定，任何存储于计算机中的数据，其本质都是以二进制码存储**。

但是$bit（位）$实在太小了，还有其他常见的存储单位$Byte（字节）$、$KB（千字节）$、$MB（兆字节）$、$GB（千兆字节）$，换算如下，B是Byte的缩写:

$1B = 8bit$
$1KB = 1024B$
$1MB = 1024kB$
$1GB = 1024MB$
$1TB = 1024GB$

比如你的计算机内存是4GB，那么可以存储的位数为$4\times1024\times1024\times1024\times8$位,$1024$等于$2^{10}$, 即$32\times2^{30}$

### 负数的二进制

上面我们讨论的数据类型，那么我在来看看Java里的八种基础数据类型，见附录表2 [^2]。

我们以$byte$为例，byte占8位, 那么最大值应该是
| 1   | 1   | 1   | 1   | 1   | 1   | 1   | 1   |
| --- | --- | --- | --- | --- | --- | --- | --- |

换算成十进制就是255，但是为什么byte的最大值是127呢，这里就是因为我们最开始没考虑负数的情况，现在我们引入负数的二进制。

首先，我们8位二进制的范围是 **0000 0000** 到 **1111 1111**，一共可以表示$2^{8}=256$个数，如果表示无符号整数就是**0 ~ 255**，但是要表示有符号整数的时候就需要一个**标记位**来表示正数或者负数，在数学中，任意基数的负数都是在最前面加上$-$符号来表示， 在计算机中**原码**、**反码**、**补码**的就是为了解决计算机引入符号位的问题。

- 原码
    定义：最简单的机器数表示法，用最高位表示符号位，为$0$表示一个正数，为$1$表示一个负数，其他位存放该数的二进制的绝对值。

    我们来看看8位原码的表示。

    |  二进制  | 符号及值 | 无符号 |
    | :------: | :------: | :----: |
    | 00000000 |    +0    |   0    |
    | 00000001 |    1     |   1    |
    |   ...    |   ...    |  ...   |
    | 01111111 |   127    |  127   |
    | 10000000 |    −0    |  128   |
    | 10000001 |    −1    |  129   |
    |   ...    |   ...    |  ...   |
    | 11111111 |   −127   |  255   |

    可以看出这种表示方法可以表示$-127\thicksim+127$的数字，但是会出现两个$0$，这会给计算和使用带来不便，二进制做加减法的时候需要去判断符号，不利于运算。

- 反码
    反码就是为了解决原码的问题，下面我们看看反码的

    定义：正数的反码还是等于原码；负数的反码就是它的原码除符号位外，按位取反。

    举例：$0000 0001(1)$ 的反码为 $1111 1110(-1)$，反码表示的范围位$-(2^{N-1}-1)$到$(2^{N-1}-1)$, 以及 $+0$, $-0$，八位二进制可以表示$-127\thicksim+127$，以及$0000 0000 (+0)$，$1111 1111 (-0)$。

    | 二进制值 | 反码表示 | 无符号数表示 |
    | -------- | -------- | ------------ |
    | 00000000 | +0       | 0            |
    | 00000001 | 1        | 1            |
    | ...      | ...      | ...          |
    | 01111101 | 125      | 125          |
    | 01111110 | 126      | 126          |
    | 01111111 | 127      | 127          |
    | 10000000 | −127     | 128          |
    |          |
    | 10000001 | −126     | 129          |
    | 10000010 | −125     | 130          |
    | ...      | ...      | ...          |
    | 11111110 | −1       | 254          |
    | 11111111 | −0       | 255          |

- 补码
  
    | 二进制值 | 补码表示 | 无符号数表示 |
    | -------- | -------- | ------------ |
    | 00000000 | 0        | 0            |
    | 00000001 | 1        | 1            |
    | ...      | ...      | ...          |
    | 01111110 | 126      | 126          |
    | 01111111 | 127      | 127          |
    | 10000000 | −128     | 128          |
    | 10000001 | −127     | 129          |
    | 10000010 | −126     | 130          |
    | ...      | ...      | ...          |
    | 11111110 | −2       | 254          |
    | 11111111 | −1       | 255          |

附录4 [^4]  列出了 4-bit 二进数所能表示的整数， 可以对照着看看区别

## 参考文章

[二进制是什么](https://www.zhihu.com/question/330681697/answer/1981060025)
[有符號數處理](https://zh.wikipedia.org/wiki/%E6%9C%89%E7%AC%A6%E8%99%9F%E6%95%B8%E8%99%95%E7%90%86)
[二进制的原码、反码、补码](https://zhuanlan.zhihu.com/p/99082236)

[^1]:
| 十进制 | 二进制  | 八进制 | 十六进制 |
| :----: | :-----: | :----: | :------: |
|   0    |    0    |   0    |    0     |
|   1    |    1    |   1    |    1     |
|   2    |   10    |   2    |    2     |
|   3    |   11    |   3    |    3     |
|   4    |   100   |   4    |    4     |
|   5    |   101   |   5    |    5     |
|   6    |   110   |   6    |    6     |
|   7    |   111   |   7    |    7     |
|   8    |  1000   |   10   |    8     |
|   9    |  1001   |   11   |    9     |
|   10   | 1010  0 |   12   |    A     |
|   11   | 1011  0 |   13   |    B     |
|   12   | 1100  0 |   14   |    C     |
|   13   | 1101  0 |   15   |    D     |
|   14   | 1110  0 |   16   |    E     |
|   15   | 1111  0 |   17   |    F     |
|   16   | 10000 0 |   20   |    10    |

[^2]:
|  类型   | 位数  | 默认值  |                 取值范围                  |
| :-----: | :---: | :-----: | :---------------------------------------: |
|  byte   |   8   |    0    |         $-2^{7}\thicksim2^{7}-1$          |
|  short  |  16   |    0    |        $-2^{15}\thicksim2^{15}-1$         |
|   int   |  32   |    0    |        $-2^{31}\thicksim2^{31}-1$         |
|  long   |  64   |   0L    |        $-2^{63}\thicksim2^{63}-1$         |
|  float  |  32   |  0.0f   |   $1.4E-45\thicksim3.4028235E38$   [^3]   |
| double  |  64   |  0.0d   | $4.9E-324\thicksim1.7976931348623157E308$ |
|  char   |  16   | 'u0000' |      '\\u0000' $\thicksim$ '\\uffff'      |
| boolean |   8   |  false  |               true or false               |

[^3]:

Float和Double的最小值和最大值都是以科学记数法的形式输出的，结尾的"E+数字"表示E之前的数字要乘以10的多少次方。例如：$19971400000000=1.99714×10^13$。计算器表达10的幂是一般是用$E$或e，也就是$1.99714E13=19971400000000$。

[^4]:

- 无符号（unsigned）可表示0到15
- 原码（sign & magnitude）可表示-7到+7，包括-0
- 反码（ones' complement）可表示-7到+7，包括-0
- 补码（two's complement）可表示-8到+7，没有±0的问题

| 二进数 | 无符号 | 原码 | 反码 | 补码 |
| ------ | ------ | ---- | ---- | ---- |
| 0000   | 0      | 0    | 0    | 0    |
| 0001   | 1      | 1    | 1    | 1    |
| 0010   | 2      | 2    | 2    | 2    |
| 0011   | 3      | 3    | 3    | 3    |
| 0100   | 4      | 4    | 4    | 4    |
| 0101   | 5      | 5    | 5    | 5    |
| 0110   | 6      | 6    | 6    | 6    |
| 0111   | 7      | 7    | 7    | 7    |
| 1000   | 8      | -0   | -7   | -8   |
| 1001   | 9      | -1   | -6   | -7   |
| 1010   | 10     | -2   | -5   | -6   |
| 1011   | 11     | -3   | -4   | -5   |
| 1100   | 12     | -4   | -3   | -4   |
| 1101   | 13     | -5   | -2   | -3   |
| 1110   | 14     | -6   | -1   | -2   |
| 1111   | 15     | -7   | -0   | -1   |
